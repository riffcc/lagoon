import{j as xn,k as Q,l as pe,p as lt,n as wn,q as Ze,r as bn,u as _n,v as kn,w as Zt,x as At,y as Cn,z as zn,A as Pn,t as En,a as Ke,o as Mn,s as Tn,i as L,f as An,b as On,c as Sn,d as Rn,e as Dn,h as In,G as Nn,m as we,g as be,T as _e,E as ke}from"./float-tooltip-CvuDA59Z.js";function Ce(n,e,r){var i=new xn;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}function Un(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}function ye(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Be(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Nt(){}var Ot=.7,Xt=1/Ot,wt="\\s*([+-]?\\d+)\\s*",St="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$n=/^#([0-9a-f]{3,8})$/,jn=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),Ln=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Fn=new RegExp(`^rgba\\(${wt},${wt},${wt},${St}\\)$`),qn=new RegExp(`^rgba\\(${nt},${nt},${nt},${St}\\)$`),Gn=new RegExp(`^hsl\\(${St},${nt},${nt}\\)$`),Vn=new RegExp(`^hsla\\(${St},${nt},${nt},${St}\\)$`),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ye(Nt,Rt,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHex8:Hn,formatHsl:Xn,formatRgb:Ee,toString:Ee});function Pe(){return this.rgb().formatHex()}function Hn(){return this.rgb().formatHex8()}function Xn(){return Qe(this).formatHsl()}function Ee(){return this.rgb().formatRgb()}function Rt(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=$n.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?Me(e):r===3?new X(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ut(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ut(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jn.exec(n))?new X(e[1],e[2],e[3],1):(e=Ln.exec(n))?new X(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fn.exec(n))?Ut(e[1],e[2],e[3],e[4]):(e=qn.exec(n))?Ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gn.exec(n))?Oe(e[1],e[2]/100,e[3]/100,1):(e=Vn.exec(n))?Oe(e[1],e[2]/100,e[3]/100,e[4]):ze.hasOwnProperty(n)?Me(ze[n]):n==="transparent"?new X(NaN,NaN,NaN,0):null}function Me(n){return new X(n>>16&255,n>>8&255,n&255,1)}function Ut(n,e,r,i){return i<=0&&(n=e=r=NaN),new X(n,e,r,i)}function Wn(n){return n instanceof Nt||(n=Rt(n)),n?(n=n.rgb(),new X(n.r,n.g,n.b,n.opacity)):new X}function oe(n,e,r,i){return arguments.length===1?Wn(n):new X(n,e,r,i??1)}function X(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}ye(X,oe,Be(Nt,{brighter(n){return n=n==null?Xt:Math.pow(Xt,n),new X(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ot:Math.pow(Ot,n),new X(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new X(mt(this.r),mt(this.g),mt(this.b),Wt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Te,formatHex:Te,formatHex8:Yn,formatRgb:Ae,toString:Ae}));function Te(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}`}function Yn(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}${yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ae(){const n=Wt(this.opacity);return`${n===1?"rgb(":"rgba("}${mt(this.r)}, ${mt(this.g)}, ${mt(this.b)}${n===1?")":`, ${n})`}`}function Wt(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function mt(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function yt(n){return n=mt(n),(n<16?"0":"")+n.toString(16)}function Oe(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new J(n,e,r,i)}function Qe(n){if(n instanceof J)return new J(n.h,n.s,n.l,n.opacity);if(n instanceof Nt||(n=Rt(n)),!n)return new J;if(n instanceof J)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),u=Math.max(e,r,i),a=NaN,s=u-o,l=(u+o)/2;return s?(e===u?a=(r-i)/s+(r<i)*6:r===u?a=(i-e)/s+2:a=(e-r)/s+4,s/=l<.5?u+o:2-u-o,a*=60):s=l>0&&l<1?0:a,new J(a,s,l,n.opacity)}function Zn(n,e,r,i){return arguments.length===1?Qe(n):new J(n,e,r,i??1)}function J(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}ye(J,Zn,Be(Nt,{brighter(n){return n=n==null?Xt:Math.pow(Xt,n),new J(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ot:Math.pow(Ot,n),new J(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new X(Qt(n>=240?n-240:n+120,o,i),Qt(n,o,i),Qt(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new J(Se(this.h),$t(this.s),$t(this.l),Wt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Wt(this.opacity);return`${n===1?"hsl(":"hsla("}${Se(this.h)}, ${$t(this.s)*100}%, ${$t(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Se(n){return n=(n||0)%360,n<0?n+360:n}function $t(n){return Math.max(0,Math.min(1,n||0))}function Qt(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const Je=n=>()=>n;function Kn(n,e){return function(r){return n+r*e}}function Bn(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function Qn(n){return(n=+n)==1?tn:function(e,r){return r-e?Bn(e,r,n):Je(isNaN(e)?r:e)}}function tn(n,e){var r=e-n;return r?Kn(n,r):Je(isNaN(n)?e:n)}const Re=(function n(e){var r=Qn(e);function i(o,u){var a=r((o=oe(o)).r,(u=oe(u)).r),s=r(o.g,u.g),l=r(o.b,u.b),c=tn(o.opacity,u.opacity);return function(f){return o.r=a(f),o.g=s(f),o.b=l(f),o.opacity=c(f),o+""}}return i.gamma=n,i})(1);function gt(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jt=new RegExp(ae.source,"g");function Jn(n){return function(){return n}}function tr(n){return function(e){return n(e)+""}}function er(n,e){var r=ae.lastIndex=Jt.lastIndex=0,i,o,u,a=-1,s=[],l=[];for(n=n+"",e=e+"";(i=ae.exec(n))&&(o=Jt.exec(e));)(u=o.index)>r&&(u=e.slice(r,u),s[a]?s[a]+=u:s[++a]=u),(i=i[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:gt(i,o)})),r=Jt.lastIndex;return r<e.length&&(u=e.slice(r),s[a]?s[a]+=u:s[++a]=u),s.length<2?l[0]?tr(l[0].x):Jn(e):(e=l.length,function(c){for(var f=0,h;f<e;++f)s[(h=l[f]).i]=h.x(c);return s.join("")})}var De=180/Math.PI,ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function en(n,e,r,i,o,u){var a,s,l;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(l=n*r+e*i)&&(r-=n*l,i-=e*l),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,l/=s),n*i<e*r&&(n=-n,e=-e,l=-l,a=-a),{translateX:o,translateY:u,rotate:Math.atan2(e,n)*De,skewX:Math.atan(l)*De,scaleX:a,scaleY:s}}var jt;function nr(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?ue:en(e.a,e.b,e.c,e.d,e.e,e.f)}function rr(n){return n==null||(jt||(jt=document.createElementNS("http://www.w3.org/2000/svg","g")),jt.setAttribute("transform",n),!(n=jt.transform.baseVal.consolidate()))?ue:(n=n.matrix,en(n.a,n.b,n.c,n.d,n.e,n.f))}function nn(n,e,r,i){function o(c){return c.length?c.pop()+" ":""}function u(c,f,h,d,g,y){if(c!==h||f!==d){var w=g.push("translate(",null,e,null,r);y.push({i:w-4,x:gt(c,h)},{i:w-2,x:gt(f,d)})}else(h||d)&&g.push("translate("+h+e+d+r)}function a(c,f,h,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:h.push(o(h)+"rotate(",null,i)-2,x:gt(c,f)})):f&&h.push(o(h)+"rotate("+f+i)}function s(c,f,h,d){c!==f?d.push({i:h.push(o(h)+"skewX(",null,i)-2,x:gt(c,f)}):f&&h.push(o(h)+"skewX("+f+i)}function l(c,f,h,d,g,y){if(c!==h||f!==d){var w=g.push(o(g)+"scale(",null,",",null,")");y.push({i:w-4,x:gt(c,h)},{i:w-2,x:gt(f,d)})}else(h!==1||d!==1)&&g.push(o(g)+"scale("+h+","+d+")")}return function(c,f){var h=[],d=[];return c=n(c),f=n(f),u(c.translateX,c.translateY,f.translateX,f.translateY,h,d),a(c.rotate,f.rotate,h,d),s(c.skewX,f.skewX,h,d),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,h,d),c=f=null,function(g){for(var y=-1,w=d.length,C;++y<w;)h[(C=d[y]).i]=C.x(g);return h.join("")}}}var ir=nn(nr,"px, ","px)","deg)"),or=nn(rr,", ",")",")"),ar=1e-12;function Ie(n){return((n=Math.exp(n))+1/n)/2}function ur(n){return((n=Math.exp(n))-1/n)/2}function sr(n){return((n=Math.exp(2*n))-1)/(n+1)}const lr=(function n(e,r,i){function o(u,a){var s=u[0],l=u[1],c=u[2],f=a[0],h=a[1],d=a[2],g=f-s,y=h-l,w=g*g+y*y,C,m;if(w<ar)m=Math.log(d/c)/e,C=function(k){return[s+k*g,l+k*y,c*Math.exp(e*k*m)]};else{var O=Math.sqrt(w),S=(d*d-c*c+i*w)/(2*c*r*O),v=(d*d-c*c-i*w)/(2*d*r*O),_=Math.log(Math.sqrt(S*S+1)-S),M=Math.log(Math.sqrt(v*v+1)-v);m=(M-_)/e,C=function(k){var P=k*m,A=Ie(_),E=c/(r*O)*(A*sr(e*P+_)-ur(_));return[s+E*g,l+E*y,c*A/Ie(e*P+_)]}}return C.duration=m*1e3*e/Math.SQRT2,C}return o.rho=function(u){var a=Math.max(.001,+u),s=a*a,l=s*s;return n(a,s,l)},o})(Math.SQRT2,2,4),cr={passive:!1},Dt={capture:!0,passive:!1};function te(n){n.stopImmediatePropagation()}function bt(n){n.preventDefault(),n.stopImmediatePropagation()}function rn(n){var e=n.document.documentElement,r=Q(n).on("dragstart.drag",bt,Dt);"onselectstart"in e?r.on("selectstart.drag",bt,Dt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function on(n,e){var r=n.document.documentElement,i=Q(n).on("dragstart.drag",null);e&&(i.on("click.drag",bt,Dt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Lt=n=>()=>n;function se(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:u,x:a,y:s,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}se.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function fr(n){return!n.ctrlKey&&!n.button}function hr(){return this.parentNode}function dr(n,e){return e??{x:n.x,y:n.y}}function gr(){return navigator.maxTouchPoints||"ontouchstart"in this}function pr(){var n=fr,e=hr,r=dr,i=gr,o={},u=pe("start","drag","end"),a=0,s,l,c,f,h=0;function d(v){v.on("mousedown.drag",g).filter(i).on("touchstart.drag",C).on("touchmove.drag",m,cr).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(v,_){if(!(f||!n.call(this,v,_))){var M=S(this,e.call(this,v,_),v,_,"mouse");M&&(Q(v.view).on("mousemove.drag",y,Dt).on("mouseup.drag",w,Dt),rn(v.view),te(v),c=!1,s=v.clientX,l=v.clientY,M("start",v))}}function y(v){if(bt(v),!c){var _=v.clientX-s,M=v.clientY-l;c=_*_+M*M>h}o.mouse("drag",v)}function w(v){Q(v.view).on("mousemove.drag mouseup.drag",null),on(v.view,c),bt(v),o.mouse("end",v)}function C(v,_){if(n.call(this,v,_)){var M=v.changedTouches,k=e.call(this,v,_),P=M.length,A,E;for(A=0;A<P;++A)(E=S(this,k,v,_,M[A].identifier,M[A]))&&(te(v),E("start",v,M[A]))}}function m(v){var _=v.changedTouches,M=_.length,k,P;for(k=0;k<M;++k)(P=o[_[k].identifier])&&(bt(v),P("drag",v,_[k]))}function O(v){var _=v.changedTouches,M=_.length,k,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<M;++k)(P=o[_[k].identifier])&&(te(v),P("end",v,_[k]))}function S(v,_,M,k,P,A){var E=u.copy(),N=lt(A||M,_),U,$,p;if((p=r.call(v,new se("beforestart",{sourceEvent:M,target:d,identifier:P,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:E}),k))!=null)return U=p.x-N[0]||0,$=p.y-N[1]||0,function z(x,T,R){var D=N,I;switch(x){case"start":o[P]=z,I=a++;break;case"end":delete o[P],--a;case"drag":N=lt(R||T,_),I=a;break}E.call(x,v,new se(x,{sourceEvent:T,subject:p,target:d,identifier:P,active:I,x:N[0]+U,y:N[1]+$,dx:N[0]-D[0],dy:N[1]-D[1],dispatch:E}),k)}}return d.filter=function(v){return arguments.length?(n=typeof v=="function"?v:Lt(!!v),d):n},d.container=function(v){return arguments.length?(e=typeof v=="function"?v:Lt(v),d):e},d.subject=function(v){return arguments.length?(r=typeof v=="function"?v:Lt(v),d):r},d.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Lt(!!v),d):i},d.on=function(){var v=u.on.apply(u,arguments);return v===u?d:v},d.clickDistance=function(v){return arguments.length?(h=(v=+v)*v,d):Math.sqrt(h)},d}var yr=pe("start","end","cancel","interrupt"),mr=[],an=0,Ne=1,le=2,Gt=3,Ue=4,ce=5,Vt=6;function Kt(n,e,r,i,o,u){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;vr(n,r,{name:e,index:i,group:o,on:yr,tween:mr,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:an})}function me(n,e){var r=tt(n,e);if(r.state>an)throw new Error("too late; already scheduled");return r}function rt(n,e){var r=tt(n,e);if(r.state>Gt)throw new Error("too late; already running");return r}function tt(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function vr(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=wn(u,0,r.time);function u(c){r.state=Ne,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var f,h,d,g;if(r.state!==Ne)return l();for(f in i)if(g=i[f],g.name===r.name){if(g.state===Gt)return Ce(a);g.state===Ue?(g.state=Vt,g.timer.stop(),g.on.call("interrupt",n,n.__data__,g.index,g.group),delete i[f]):+f<e&&(g.state=Vt,g.timer.stop(),g.on.call("cancel",n,n.__data__,g.index,g.group),delete i[f])}if(Ce(function(){r.state===Gt&&(r.state=Ue,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=le,r.on.call("start",n,n.__data__,r.index,r.group),r.state===le){for(r.state=Gt,o=new Array(d=r.tween.length),f=0,h=-1;f<d;++f)(g=r.tween[f].value.call(n,n.__data__,r.index,r.group))&&(o[++h]=g);o.length=h+1}}function s(c){for(var f=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=ce,1),h=-1,d=o.length;++h<d;)o[h].call(n,f);r.state===ce&&(r.on.call("end",n,n.__data__,r.index,r.group),l())}function l(){r.state=Vt,r.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function Ht(n,e){var r=n.__transition,i,o,u=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){u=!1;continue}o=i.state>le&&i.state<ce,i.state=Vt,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}u&&delete n.__transition}}function xr(n){return this.each(function(){Ht(this,n)})}function wr(n,e){var r,i;return function(){var o=rt(this,n),u=o.tween;if(u!==r){i=r=u;for(var a=0,s=i.length;a<s;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}o.tween=i}}function br(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var u=rt(this,n),a=u.tween;if(a!==i){o=(i=a).slice();for(var s={name:e,value:r},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=s;break}l===c&&o.push(s)}u.tween=o}}function _r(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=tt(this.node(),r).tween,o=0,u=i.length,a;o<u;++o)if((a=i[o]).name===n)return a.value;return null}return this.each((e==null?wr:br)(r,n,e))}function ve(n,e,r){var i=n._id;return n.each(function(){var o=rt(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return tt(o,i).value[e]}}function un(n,e){var r;return(typeof e=="number"?gt:e instanceof Rt?Re:(r=Rt(e))?(e=r,Re):er)(n,e)}function kr(n){return function(){this.removeAttribute(n)}}function Cr(n){return function(){this.removeAttributeNS(n.space,n.local)}}function zr(n,e,r){var i,o=r+"",u;return function(){var a=this.getAttribute(n);return a===o?null:a===i?u:u=e(i=a,r)}}function Pr(n,e,r){var i,o=r+"",u;return function(){var a=this.getAttributeNS(n.space,n.local);return a===o?null:a===i?u:u=e(i=a,r)}}function Er(n,e,r){var i,o,u;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(n):(a=this.getAttribute(n),l=s+"",a===l?null:a===i&&l===o?u:(o=l,u=e(i=a,s)))}}function Mr(n,e,r){var i,o,u;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),l=s+"",a===l?null:a===i&&l===o?u:(o=l,u=e(i=a,s)))}}function Tr(n,e){var r=Ze(n),i=r==="transform"?or:un;return this.attrTween(n,typeof e=="function"?(r.local?Mr:Er)(r,i,ve(this,"attr."+n,e)):e==null?(r.local?Cr:kr)(r):(r.local?Pr:zr)(r,i,e))}function Ar(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function Or(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function Sr(n,e){var r,i;function o(){var u=e.apply(this,arguments);return u!==i&&(r=(i=u)&&Or(n,u)),r}return o._value=e,o}function Rr(n,e){var r,i;function o(){var u=e.apply(this,arguments);return u!==i&&(r=(i=u)&&Ar(n,u)),r}return o._value=e,o}function Dr(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=Ze(n);return this.tween(r,(i.local?Sr:Rr)(i,e))}function Ir(n,e){return function(){me(this,n).delay=+e.apply(this,arguments)}}function Nr(n,e){return e=+e,function(){me(this,n).delay=e}}function Ur(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Ir:Nr)(e,n)):tt(this.node(),e).delay}function $r(n,e){return function(){rt(this,n).duration=+e.apply(this,arguments)}}function jr(n,e){return e=+e,function(){rt(this,n).duration=e}}function Lr(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?$r:jr)(e,n)):tt(this.node(),e).duration}function Fr(n,e){if(typeof e!="function")throw new Error;return function(){rt(this,n).ease=e}}function qr(n){var e=this._id;return arguments.length?this.each(Fr(e,n)):tt(this.node(),e).ease}function Gr(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;rt(this,n).ease=r}}function Vr(n){if(typeof n!="function")throw new Error;return this.each(Gr(this._id,n))}function Hr(n){typeof n!="function"&&(n=bn(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var u=e[o],a=u.length,s=i[o]=[],l,c=0;c<a;++c)(l=u[c])&&n.call(l,l.__data__,c,u)&&s.push(l);return new ft(i,this._parents,this._name,this._id)}function Xr(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),s=0;s<u;++s)for(var l=e[s],c=r[s],f=l.length,h=a[s]=new Array(f),d,g=0;g<f;++g)(d=l[g]||c[g])&&(h[g]=d);for(;s<i;++s)a[s]=e[s];return new ft(a,this._parents,this._name,this._id)}function Wr(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Yr(n,e,r){var i,o,u=Wr(e)?me:rt;return function(){var a=u(this,n),s=a.on;s!==i&&(o=(i=s).copy()).on(e,r),a.on=o}}function Zr(n,e){var r=this._id;return arguments.length<2?tt(this.node(),r).on.on(n):this.each(Yr(r,n,e))}function Kr(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function Br(){return this.on("end.remove",Kr(this._id))}function Qr(n){var e=this._name,r=this._id;typeof n!="function"&&(n=_n(n));for(var i=this._groups,o=i.length,u=new Array(o),a=0;a<o;++a)for(var s=i[a],l=s.length,c=u[a]=new Array(l),f,h,d=0;d<l;++d)(f=s[d])&&(h=n.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),c[d]=h,Kt(c[d],e,r,d,c,tt(f,r)));return new ft(u,this._parents,e,r)}function Jr(n){var e=this._name,r=this._id;typeof n!="function"&&(n=kn(n));for(var i=this._groups,o=i.length,u=[],a=[],s=0;s<o;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)if(f=l[h]){for(var d=n.call(f,f.__data__,h,l),g,y=tt(f,r),w=0,C=d.length;w<C;++w)(g=d[w])&&Kt(g,e,r,w,d,y);u.push(d),a.push(f)}return new ft(u,a,e,r)}var ti=Zt.prototype.constructor;function ei(){return new ti(this._groups,this._parents)}function ni(n,e){var r,i,o;return function(){var u=At(this,n),a=(this.style.removeProperty(n),At(this,n));return u===a?null:u===r&&a===i?o:o=e(r=u,i=a)}}function sn(n){return function(){this.style.removeProperty(n)}}function ri(n,e,r){var i,o=r+"",u;return function(){var a=At(this,n);return a===o?null:a===i?u:u=e(i=a,r)}}function ii(n,e,r){var i,o,u;return function(){var a=At(this,n),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(n),At(this,n))),a===l?null:a===i&&l===o?u:(o=l,u=e(i=a,s))}}function oi(n,e){var r,i,o,u="style."+e,a="end."+u,s;return function(){var l=rt(this,n),c=l.on,f=l.value[u]==null?s||(s=sn(e)):void 0;(c!==r||o!==f)&&(i=(r=c).copy()).on(a,o=f),l.on=i}}function ai(n,e,r){var i=(n+="")=="transform"?ir:un;return e==null?this.styleTween(n,ni(n,i)).on("end.style."+n,sn(n)):typeof e=="function"?this.styleTween(n,ii(n,i,ve(this,"style."+n,e))).each(oi(this._id,n)):this.styleTween(n,ri(n,i,e),r).on("end.style."+n,null)}function ui(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function si(n,e,r){var i,o;function u(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&ui(n,a,r)),i}return u._value=e,u}function li(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,si(n,e,r??""))}function ci(n){return function(){this.textContent=n}}function fi(n){return function(){var e=n(this);this.textContent=e??""}}function hi(n){return this.tween("text",typeof n=="function"?fi(ve(this,"text",n)):ci(n==null?"":n+""))}function di(n){return function(e){this.textContent=n.call(this,e)}}function gi(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&di(o)),e}return i._value=n,i}function pi(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,gi(n))}function yi(){for(var n=this._name,e=this._id,r=ln(),i=this._groups,o=i.length,u=0;u<o;++u)for(var a=i[u],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var f=tt(l,e);Kt(l,n,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ft(i,this._parents,n,r)}function mi(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(u,a){var s={value:a},l={value:function(){--o===0&&u()}};r.each(function(){var c=rt(this,i),f=c.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),o===0&&u()})}var vi=0;function ft(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function ln(){return++vi}var at=Zt.prototype;ft.prototype={constructor:ft,select:Qr,selectAll:Jr,selectChild:at.selectChild,selectChildren:at.selectChildren,filter:Hr,merge:Xr,selection:ei,transition:yi,call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:Zr,attr:Tr,attrTween:Dr,style:ai,styleTween:li,text:hi,textTween:pi,remove:Br,tween:_r,delay:Ur,duration:Lr,ease:qr,easeVarying:Vr,end:mi,[Symbol.iterator]:at[Symbol.iterator]};function xi(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var wi={time:null,delay:0,duration:250,ease:xi};function bi(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function _i(n){var e,r;n instanceof ft?(e=n._id,n=n._name):(e=ln(),(r=wi).time=Cn(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,u=0;u<o;++u)for(var a=i[u],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Kt(l,n,e,c,a,r||bi(l,e));return new ft(i,this._parents,n,e)}Zt.prototype.interrupt=xr;Zt.prototype.transition=_i;const Ft=n=>()=>n;function ki(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ct(n,e,r){this.k=n,this.x=e,this.y=r}ct.prototype={constructor:ct,scale:function(n){return n===1?this:new ct(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new ct(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xe=new ct(1,0,0);et.prototype=ct.prototype;function et(n){for(;!n.__zoom;)if(!(n=n.parentNode))return xe;return n.__zoom}function ee(n){n.stopImmediatePropagation()}function _t(n){n.preventDefault(),n.stopImmediatePropagation()}function Ci(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function zi(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function $e(){return this.__zoom||xe}function Pi(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Ei(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mi(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],u=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),a>u?(u+a)/2:Math.min(0,u)||Math.max(0,a))}function Ti(){var n=Ci,e=zi,r=Mi,i=Pi,o=Ei,u=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=lr,c=pe("start","zoom","end"),f,h,d,g=500,y=150,w=0,C=10;function m(p){p.property("__zoom",$e).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,z,x,T){var R=p.selection?p.selection():p;R.property("__zoom",$e),p!==R?_(p,z,x,T):R.interrupt().each(function(){M(this,arguments).event(T).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},m.scaleBy=function(p,z,x,T){m.scaleTo(p,function(){var R=this.__zoom.k,D=typeof z=="function"?z.apply(this,arguments):z;return R*D},x,T)},m.scaleTo=function(p,z,x,T){m.transform(p,function(){var R=e.apply(this,arguments),D=this.__zoom,I=x==null?v(R):typeof x=="function"?x.apply(this,arguments):x,j=D.invert(I),F=typeof z=="function"?z.apply(this,arguments):z;return r(S(O(D,F),I,j),R,a)},x,T)},m.translateBy=function(p,z,x,T){m.transform(p,function(){return r(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),a)},null,T)},m.translateTo=function(p,z,x,T,R){m.transform(p,function(){var D=e.apply(this,arguments),I=this.__zoom,j=T==null?v(D):typeof T=="function"?T.apply(this,arguments):T;return r(xe.translate(j[0],j[1]).scale(I.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof x=="function"?-x.apply(this,arguments):-x),D,a)},T,R)};function O(p,z){return z=Math.max(u[0],Math.min(u[1],z)),z===p.k?p:new ct(z,p.x,p.y)}function S(p,z,x){var T=z[0]-x[0]*p.k,R=z[1]-x[1]*p.k;return T===p.x&&R===p.y?p:new ct(p.k,T,R)}function v(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function _(p,z,x,T){p.on("start.zoom",function(){M(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(T).end()}).tween("zoom",function(){var R=this,D=arguments,I=M(R,D).event(T),j=e.apply(R,D),F=x==null?v(j):typeof x=="function"?x.apply(R,D):x,V=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),G=R.__zoom,K=typeof z=="function"?z.apply(R,D):z,it=l(G.invert(F).concat(V/G.k),K.invert(F).concat(V/K.k));return function(B){if(B===1)B=K;else{var ot=it(B),Bt=V/ot[2];B=new ct(Bt,F[0]-ot[0]*Bt,F[1]-ot[1]*Bt)}I.zoom(null,B)}})}function M(p,z,x){return!x&&p.__zooming||new k(p,z)}function k(p,z){this.that=p,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,z),this.taps=0}k.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,z){return this.mouse&&p!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var z=Q(this.that).datum();c.call(p,this.that,new ki(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),z)}};function P(p,...z){if(!n.apply(this,arguments))return;var x=M(this,z).event(p),T=this.__zoom,R=Math.max(u[0],Math.min(u[1],T.k*Math.pow(2,i.apply(this,arguments)))),D=lt(p);if(x.wheel)(x.mouse[0][0]!==D[0]||x.mouse[0][1]!==D[1])&&(x.mouse[1]=T.invert(x.mouse[0]=D)),clearTimeout(x.wheel);else{if(T.k===R)return;x.mouse=[D,T.invert(D)],Ht(this),x.start()}_t(p),x.wheel=setTimeout(I,y),x.zoom("mouse",r(S(O(T,R),x.mouse[0],x.mouse[1]),x.extent,a));function I(){x.wheel=null,x.end()}}function A(p,...z){if(d||!n.apply(this,arguments))return;var x=p.currentTarget,T=M(this,z,!0).event(p),R=Q(p.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",V,!0),D=lt(p,x),I=p.clientX,j=p.clientY;rn(p.view),ee(p),T.mouse=[D,this.__zoom.invert(D)],Ht(this),T.start();function F(G){if(_t(G),!T.moved){var K=G.clientX-I,it=G.clientY-j;T.moved=K*K+it*it>w}T.event(G).zoom("mouse",r(S(T.that.__zoom,T.mouse[0]=lt(G,x),T.mouse[1]),T.extent,a))}function V(G){R.on("mousemove.zoom mouseup.zoom",null),on(G.view,T.moved),_t(G),T.event(G).end()}}function E(p,...z){if(n.apply(this,arguments)){var x=this.__zoom,T=lt(p.changedTouches?p.changedTouches[0]:p,this),R=x.invert(T),D=x.k*(p.shiftKey?.5:2),I=r(S(O(x,D),T,R),e.apply(this,z),a);_t(p),s>0?Q(this).transition().duration(s).call(_,I,T,p):Q(this).call(m.transform,I,T,p)}}function N(p,...z){if(n.apply(this,arguments)){var x=p.touches,T=x.length,R=M(this,z,p.changedTouches.length===T).event(p),D,I,j,F;for(ee(p),I=0;I<T;++I)j=x[I],F=lt(j,this),F=[F,this.__zoom.invert(F),j.identifier],R.touch0?!R.touch1&&R.touch0[2]!==F[2]&&(R.touch1=F,R.taps=0):(R.touch0=F,D=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),D&&(R.taps<2&&(h=F[0],f=setTimeout(function(){f=null},g)),Ht(this),R.start())}}function U(p,...z){if(this.__zooming){var x=M(this,z).event(p),T=p.changedTouches,R=T.length,D,I,j,F;for(_t(p),D=0;D<R;++D)I=T[D],j=lt(I,this),x.touch0&&x.touch0[2]===I.identifier?x.touch0[0]=j:x.touch1&&x.touch1[2]===I.identifier&&(x.touch1[0]=j);if(I=x.that.__zoom,x.touch1){var V=x.touch0[0],G=x.touch0[1],K=x.touch1[0],it=x.touch1[1],B=(B=K[0]-V[0])*B+(B=K[1]-V[1])*B,ot=(ot=it[0]-G[0])*ot+(ot=it[1]-G[1])*ot;I=O(I,Math.sqrt(B/ot)),j=[(V[0]+K[0])/2,(V[1]+K[1])/2],F=[(G[0]+it[0])/2,(G[1]+it[1])/2]}else if(x.touch0)j=x.touch0[0],F=x.touch0[1];else return;x.zoom("touch",r(S(I,j,F),x.extent,a))}}function $(p,...z){if(this.__zooming){var x=M(this,z).event(p),T=p.changedTouches,R=T.length,D,I;for(ee(p),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),D=0;D<R;++D)I=T[D],x.touch0&&x.touch0[2]===I.identifier?delete x.touch0:x.touch1&&x.touch1[2]===I.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(I=lt(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<C)){var j=Q(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:Ft(+p),m):i},m.filter=function(p){return arguments.length?(n=typeof p=="function"?p:Ft(!!p),m):n},m.touchable=function(p){return arguments.length?(o=typeof p=="function"?p:Ft(!!p),m):o},m.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Ft([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):e},m.scaleExtent=function(p){return arguments.length?(u[0]=+p[0],u[1]=+p[1],m):[u[0],u[1]]},m.translateExtent=function(p){return arguments.length?(a[0][0]=+p[0][0],a[1][0]=+p[1][0],a[0][1]=+p[0][1],a[1][1]=+p[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(p){return arguments.length?(r=p,m):r},m.duration=function(p){return arguments.length?(s=+p,m):s},m.interpolate=function(p){return arguments.length?(l=p,m):l},m.on=function(){var p=c.on.apply(c,arguments);return p===c?m:p},m.clickDistance=function(p){return arguments.length?(w=(p=+p)*p,m):Math.sqrt(w)},m.tapDistance=function(p){return arguments.length?(C=+p,m):C},m}var Ai="Expected a function";function Oi(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(Ai);return zn(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Pn(n,e,{leading:i,maxWait:e,trailing:o})}function fe(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Si(n){if(Array.isArray(n))return fe(n)}function cn(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Ri(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Di(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function W(n,e){return n.get(cn(n,e))}function je(n,e,r){Ri(n,e),e.set(n,r)}function Le(n,e,r){return n.set(cn(n,e),r),r}function Ii(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Fi(i.key),i)}}function Ni(n,e,r){return e&&Ii(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ui(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ji(n){return Si(n)||Ui(n)||qi(n)||$i()}function Li(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Fi(n){var e=Li(n,"string");return typeof e=="symbol"?e:e+""}function qi(n,e){if(n){if(typeof n=="string")return fe(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(n,e):void 0}}var Gi=123,Vi=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},fn=function(e,r,i){return(e<<16)+(r<<8)+i},Hi=function(e){var r=En(e).toRgb(),i=r.r,o=r.g,u=r.b;return fn(i,o,u)},Fe=function(e,r){return e*Gi%Math.pow(2,r)},pt=new WeakMap,ut=new WeakMap,Xi=(function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Di(this,n),je(this,pt,void 0),je(this,ut,void 0),Le(ut,this,e),this.reset()}return Ni(n,[{key:"reset",value:function(){Le(pt,this,["__reserved for background__"])}},{key:"register",value:function(r){if(W(pt,this).length>=Math.pow(2,24-W(ut,this)))return null;var i=W(pt,this).length,o=Fe(i,W(ut,this)),u=Vi(i+(o<<24-W(ut,this)));return W(pt,this).push(r),u}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?Hi(r):fn.apply(void 0,ji(r));if(!i)return null;var o=i&Math.pow(2,24-W(ut,this))-1,u=i>>24-W(ut,this)&Math.pow(2,W(ut,this))-1;return Fe(o,W(ut,this))!==u||o>=W(pt,this).length?null:W(pt,this)[o]}}])})();const{abs:kt,cos:st,sin:vt,acos:Wi,atan2:Ct,sqrt:ht,pow:Y}=Math;function zt(n){return n<0?-Y(-n,1/3):Y(n,1/3)}const hn=Math.PI,qt=2*hn,dt=hn/2,Yi=1e-6,ne=Number.MAX_SAFE_INTEGER||9007199254740991,re=Number.MIN_SAFE_INTEGER||-9007199254740991,Zi={x:0,y:0,z:0},b={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),ht(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let u=e;if(i===0)return e[0].t=n,e[0];if(i===1){const s={x:o*u[0].x+n*u[1].x,y:o*u[0].y+n*u[1].y,t:n};return r&&(s.z=o*u[0].z+n*u[1].z),s}if(i<4){let s=o*o,l=n*n,c,f,h,d=0;i===2?(u=[u[0],u[1],u[2],Zi],c=s,f=o*n*2,h=l):i===3&&(c=s*o,f=s*n*3,h=o*l*3,d=n*l);const g={x:c*u[0].x+f*u[1].x+h*u[2].x+d*u[3].x,y:c*u[0].y+f*u[1].y+h*u[2].y+d*u[3].y,t:n};return r&&(g.z=c*u[0].z+f*u[1].z+h*u[2].z+d*u[3].z),g}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let s=0;s<a.length-1;s++)a[s]={x:a[s].x+(a[s+1].x-a[s].x)*n,y:a[s].y+(a[s+1].y-a[s].y)*n},typeof a[s].z<"u"&&(a[s].z=a[s].z+(a[s+1].z-a[s].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const o=1-n,u=r,a=e;let s=u[0],l=u[1],c=u[2],f=u[3],h;if(s*=o,l*=n,a.length===2)return h=s+l,{x:(s*a[0].x+l*a[1].x)/h,y:(s*a[0].y+l*a[1].y)/h,z:i?(s*a[0].z+l*a[1].z)/h:!1,t:n};if(s*=o,l*=2*o,c*=n*n,a.length===3)return h=s+l+c,{x:(s*a[0].x+l*a[1].x+c*a[2].x)/h,y:(s*a[0].y+l*a[1].y+c*a[2].y)/h,z:i?(s*a[0].z+l*a[1].z+c*a[2].z)/h:!1,t:n};if(s*=o,l*=1.5*o,c*=3*o,f*=n*n*n,a.length===4)return h=s+l+c+f,{x:(s*a[0].x+l*a[1].x+c*a[2].x+f*a[3].x)/h,y:(s*a[0].y+l*a[1].y+c*a[2].y+f*a[3].y)/h,z:i?(s*a[0].z+l*a[1].z+c*a[2].z+f*a[3].z)/h:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,u=o-1;o>1;o--,u--){const a=[];for(let s=0,l;s<u;s++)l={x:u*(i[s+1].x-i[s].x),y:u*(i[s+1].y-i[s].y)},e&&(l.z=u*(i[s+1].z-i[s].z)),a.push(l);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||b.approximately(n,e)||b.approximately(n,r)},approximately:function(n,e,r){return kt(n-e)<=(r||Yi)},length:function(n){const r=b.Tvalues.length;let i=0;for(let o=0,u;o<r;o++)u=.5*b.Tvalues[o]+.5,i+=b.Cvalues[o]*b.arcfn(u,n);return .5*i},map:function(n,e,r,i,o){const u=r-e,a=o-i,s=n-e,l=s/u;return i+a*l},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(b.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,u=r.x-n.x,a=r.y-n.y,s=i*a-o*u,l=i*u+o*a;return Ct(s,l)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return ht(r*r+i*i)},closest:function(n,e){let r=Y(2,63),i,o;return n.forEach(function(u,a){o=b.dist(e,u),o<r&&(r=o,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Y(n,e)+Y(1-n,e),i=r-1;return kt(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Y(1-n,e),i=Y(n,e)+r;return r/i},lli8:function(n,e,r,i,o,u,a,s){const l=(n*i-e*r)*(o-a)-(n-r)*(o*s-u*a),c=(n*i-e*r)*(u-s)-(e-i)*(o*s-u*a),f=(n-r)*(u-s)-(e-i)*(o-a);return f==0?!1:{x:l/f,y:c/f}},lli4:function(n,e,r,i){const o=n.x,u=n.y,a=e.x,s=e.y,l=r.x,c=r.y,f=i.x,h=i.y;return b.lli8(o,u,a,s,l,c,f,h)},lli:function(n,e){return b.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new q(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ne,r=ne,i=re,o=re;return n.forEach(function(u){const a=u.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!b.bboxoverlap(e,i))return[];const u=[],a=[n.startcap,n.forward,n.back,n.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(l){l.virtual||s.forEach(function(c){if(c.virtual)return;const f=l.intersects(c,o);f.length>0&&(f.c1=l,f.c2=c,f.s1=n,f.s2=r,u.push(f))})}),u},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,u=b.makeline(e.points[i-1],n.points[0]),a=b.makeline(n.points[o-1],e.points[0]),s={startcap:u,forward:n,back:e,endcap:a,bbox:b.findbbox([u,n,e,a])};return s.intersections=function(l){return b.shapeintersections(s,s.bbox,l,l.bbox,r)},s},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ne,o=re,u,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let s=0,l=r.length;s<l;s++)u=r[s],a=n.get(u),a[e]<i&&(i=a[e]),a[e]>o&&(o=a[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-Ct(e.p2.y-i,e.p2.x-r),u=function(a){return{x:(a.x-r)*st(o)-(a.y-i)*vt(o),y:(a.x-r)*vt(o)+(a.y-i)*st(o)}};return n.map(u)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=b.align(n,e),o=function(k){return 0<=k&&k<=1};if(r===2){const k=i[0].y,P=i[1].y,A=i[2].y,E=k-2*P+A;if(E!==0){const N=-ht(P*P-k*A),U=-k+P,$=-(N+U)/E,p=-(-N+U)/E;return[$,p].filter(o)}else if(P!==A&&E===0)return[(2*P-A)/(2*P-2*A)].filter(o);return[]}const u=i[0].y,a=i[1].y,s=i[2].y,l=i[3].y;let c=-u+3*a-3*s+l,f=3*u-6*a+3*s,h=-3*u+3*a,d=u;if(b.approximately(c,0)){if(b.approximately(f,0))return b.approximately(h,0)?[]:[-d/h].filter(o);const k=ht(h*h-4*f*d),P=2*f;return[(k-h)/P,(-h-k)/P].filter(o)}f/=c,h/=c,d/=c;const g=(3*h-f*f)/3,y=g/3,w=(2*f*f*f-9*f*h+27*d)/27,C=w/2,m=C*C+y*y*y;let O,S,v,_,M;if(m<0){const k=-g/3,P=k*k*k,A=ht(P),E=-w/(2*A),N=E<-1?-1:E>1?1:E,U=Wi(N),$=zt(A),p=2*$;return v=p*st(U/3)-f/3,_=p*st((U+qt)/3)-f/3,M=p*st((U+2*qt)/3)-f/3,[v,_,M].filter(o)}else{if(m===0)return O=C<0?zt(-C):-zt(C),v=2*O-f/3,_=-O-f/3,[v,_].filter(o);{const k=ht(m);return O=zt(-C+k),S=zt(C+k),[O-S-f/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const u=-ht(r*r-e*i),a=-e+r,s=-(u+a)/o,l=-(-u+a)/o;return[s,l]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let u,a,s,l,c=0,f=0;const h=b.compute(n,e),d=b.compute(n,r),g=h.x*h.x+h.y*h.y;if(i?(u=ht(Y(h.y*d.z-d.y*h.z,2)+Y(h.z*d.x-d.z*h.x,2)+Y(h.x*d.y-d.x*h.y,2)),a=Y(g+h.z*h.z,3/2)):(u=h.x*d.y-h.y*d.x,a=Y(g,3/2)),u===0||a===0)return{k:0,r:0};if(c=u/a,f=a/u,!o){const y=b.curvature(n-.001,e,r,i,!0).k,w=b.curvature(n+.001,e,r,i,!0).k;l=(w-c+(c-y))/2,s=(kt(w-c)+kt(c-y))/2}return{k:c,r:f,dk:l,adk:s}},inflections:function(n){if(n.length<4)return[];const e=b.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,u=e[3].x*e[2].y,a=18*(-3*r+2*i+3*o-u),s=18*(3*r-i-3*o),l=18*(o-r);if(b.approximately(a,0)){if(!b.approximately(s,0)){let d=-l/s;if(0<=d&&d<=1)return[d]}return[]}const c=2*a;if(b.approximately(c,0))return[];const f=s*s-4*a*l;if(f<0)return[];const h=Math.sqrt(f);return[(h-s)/c,-(s+h)/c].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,u,a,s,l;o<i;o++)if(u=r[o],a=n[u].mid,s=e[u].mid,l=(n[u].size+e[u].size)/2,kt(a-s)>=l)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),u=1e5,a=r||.5;if(i.x.size+i.y.size<a&&o.x.size+o.y.size<a)return[(u*(n._t1+n._t2)/2|0)/u+"/"+(u*(e._t1+e._t2)/2|0)/u];let s=n.split(.5),l=e.split(.5),c=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];c=c.filter(function(h){return b.bboxoverlap(h.left.bbox(),h.right.bbox())});let f=[];return c.length===0||(c.forEach(function(h){f=f.concat(b.pairiteration(h.left,h.right,a))}),f=f.filter(function(h,d){return f.indexOf(h)===d})),f},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,u=r.x-e.x,a=r.y-e.y,s=i*st(dt)-o*vt(dt),l=i*vt(dt)+o*st(dt),c=u*st(dt)-a*vt(dt),f=u*vt(dt)+a*st(dt),h=(n.x+e.x)/2,d=(n.y+e.y)/2,g=(e.x+r.x)/2,y=(e.y+r.y)/2,w=h+s,C=d+l,m=g+c,O=y+f,S=b.lli8(h,d,w,C,g,y,m,O),v=b.dist(S,n);let _=Ct(n.y-S.y,n.x-S.x),M=Ct(e.y-S.y,e.x-S.x),k=Ct(r.y-S.y,r.x-S.x),P;return _<k?((_>M||M>k)&&(_+=qt),_>k&&(P=k,k=_,_=P)):k<M&&M<_?(P=k,k=_,_=P):k+=qt,S.s=_,S.e=k,S.r=v,S},numberSort:function(n,e){return n-e}};class Mt{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return b.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)b.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new Mt(r)}}const{abs:Pt,min:qe,max:Ge,cos:Ki,sin:Bi,acos:Qi,sqrt:Et}=Math,Ji=Math.PI;class q{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const g=[];r.forEach(function(y){["x","y","z"].forEach(function(w){typeof y[w]<"u"&&g.push(y[w])})}),r=g}let o=!1;const u=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(u!==6&&u!==8&&u!==9&&u!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!o&&(u===9||u===12)||e&&e[0]&&typeof e[0].z<"u",s=this.points=[];for(let g=0,y=a?3:2;g<u;g+=y){var l={x:r[g],y:r[g+1]};a&&(l.z=r[g+2]),s.push(l)}const c=this.order=s.length-1,f=this.dims=["x","y"];a&&f.push("z"),this.dimlen=f.length;const h=b.align(s,{p1:s[0],p2:s[c]}),d=b.dist(s[0],s[c]);this._linear=h.reduce((g,y)=>g+Pt(y.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new q(r,r,i);if(o===1)return new q(e,r,r);const u=q.getABC(2,e,r,i,o);return new q(e,u.A,i)}static cubicFromPoints(e,r,i,o,u){typeof o>"u"&&(o=.5);const a=q.getABC(3,e,r,i,o);typeof u>"u"&&(u=b.dist(r,a.C));const s=u*(1-o)/o,l=b.dist(e,i),c=(i.x-e.x)/l,f=(i.y-e.y)/l,h=u*c,d=u*f,g=s*c,y=s*f,w={x:r.x-h,y:r.y-d},C={x:r.x+g,y:r.y+y},m=a.A,O={x:m.x+(w.x-m.x)/(1-o),y:m.y+(w.y-m.y)/(1-o)},S={x:m.x+(C.x-m.x)/o,y:m.y+(C.y-m.y)/o},v={x:e.x+(O.x-e.x)/o,y:e.y+(O.y-e.y)/o},_={x:i.x+(S.x-i.x)/(1-o),y:i.y+(S.y-i.y)/(1-o)};return new q(e,v,_,i)}static getUtils(){return b}getUtils(){return q.getUtils()}static get PolyBezier(){return Mt}valueOf(){return this.toString()}toString(){return b.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let u=1,a=e.length;u<a;u++)o.push(e[u].x),o.push(e[u].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=b.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=b.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return b.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,u=.5){const a=b.projectionratio(u,e),s=1-a,l={x:a*r.x+s*o.x,y:a*r.y+s*o.y},c=b.abcratio(u,e);return{A:{x:i.x+(i.x-l.x)/c,y:i.y+(i.y-l.y)/c},B:i,C:l,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return q.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let u=0,a,s=0;u<i.length;u++)a=i[u],b.dist(a,e)<r&&(o.push(a),s+=u/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=b.closest(r,e),u=o.mpos,a=(u-1)/i,s=(u+1)/i,l=.1/i;let c=o.mdist,f=a,h=f,d;c+=1;for(let g;f<s+l;f+=l)d=this.compute(f),g=b.dist(e,d),g<c&&(c=g,h=f);return h=h<0?0:h>1?1:h,d=this.compute(h),d.t=h,d.d=c,d}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?b.computeWithRatios(e,this.points,this.ratios,this._3d):b.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,u,a;o<i;o++)u=e[o],a=e[o-1],r[o]={x:(i-o)/i*u.x+o/i*a.x,y:(i-o)/i*u.y+o/i*a.y};return r[i]=e[i-1],new q(r)}derivative(e){return b.compute(e,this.dpoints[0],this._3d)}dderivative(e){return b.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new q(b.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return b.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return b.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=Et(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=Et(r.x*r.x+r.y*r.y+r.z*r.z),u=Et(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=u,i.y/=u,i.z/=u;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},s=Et(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=s,a.y/=s,a.z/=s;const l=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:l[0]*r.x+l[1]*r.y+l[2]*r.z,y:l[3]*r.x+l[4]*r.y+l[5]*r.z,z:l[6]*r.x+l[7]*r.y+l[8]*r.z}}hull(e){let r=this.points,i=[],o=[],u=0;for(o[u++]=r[0],o[u++]=r[1],o[u++]=r[2],this.order===3&&(o[u++]=r[3]);r.length>1;){i=[];for(let a=0,s,l=r.length-1;a<l;a++)s=b.lerp(e,r[a],r[a+1]),o[u++]=s,i.push(s);r=i}return o}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new q([i[0],i[3],i[5]]):new q([i[0],i[4],i[7],i[9]]),right:this.order===2?new q([i[5],i[4],i[2]]):new q([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=b.map(0,0,1,this._t1,this._t2),o.left._t2=b.map(e,0,1,this._t1,this._t2),o.right._t1=b.map(e,0,1,this._t1,this._t2),o.right._t2=b.map(1,0,1,this._t1,this._t2),r?(r=b.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let o=function(a){return a[i]},u=this.dpoints[0].map(o);e[i]=b.droots(u),this.order===3&&(u=this.dpoints[1].map(o),e[i]=e[i].concat(b.droots(u))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(b.numberSort))}).bind(this)),e.values=r.sort(b.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=b.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return b.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),o=this.normal(e),u={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(u.z=i.z+o.z*r),u}if(this._linear){const i=this.normal(0),o=this.points.map(function(u){const a={x:u.x+e*i.x,y:u.y+e*i.y};return u.z&&i.z&&(a.z=u.z+e*i.z),a});return[new q(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=b.angle(this.points[0],this.points[3],this.points[1]),u=b.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&u<0||o<0&&u>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),Pt(Qi(i))<Ji/3}reduce(){let e,r=0,i=0,o=.01,u,a=[],s=[],l=this.extrema().values;for(l.indexOf(0)===-1&&(l=[0].concat(l)),l.indexOf(1)===-1&&l.push(1),r=l[0],e=1;e<l.length;e++)i=l[e],u=this.split(r,i),u._t1=r,u._t2=i,a.push(u),r=i;return a.forEach(function(c){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(u=c.split(r,i),!u.simple()){if(i-=o,Pt(r-i)<o)return[];u=c.split(r,i),u._t1=b.map(r,0,1,c._t1,c._t2),u._t2=b.map(i,0,1,c._t1,c._t2),s.push(u),r=i;break}r<1&&(u=c.split(r,1),u._t1=b.map(r,0,1,c._t1,c._t2),u._t2=c._t2,s.push(u))}),s}translate(e,r,i){i=typeof i=="number"?i:r;const o=this.order;let u=this.points.map((a,s)=>(1-s/o)*r+s/o*i);return new q(this.points.map((a,s)=>({x:a.x+e.x*u[s],y:a.y+e.y*u[s]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,u=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const a=i?i(0):e,s=i?i(1):e,l=[this.offset(0,10),this.offset(1,10)],c=[],f=b.lli4(l[0],l[0].c,l[1],l[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const d=c[h*r]=b.copy(u[h*r]);d.x+=(h?s:a)*l[h].n.x,d.y+=(h?s:a)*l[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var d=u[h+1],g={x:d.x-f.x,y:d.y-f.y},y=i?i((h+1)/r):e;i&&!o&&(y=-y);var w=Et(g.x*g.x+g.y*g.y);g.x/=w,g.y/=w,c[h+1]={x:d.x+y*g.x,y:d.y+y*g.y}}}),new q(c)):([0,1].forEach(h=>{if(r===2&&h)return;const d=c[h*r],g=this.derivative(h),y={x:d.x+g.x,y:d.y+g.y};c[h+1]=b.lli4(d,y,f,u[h+1])}),new q(c))}outline(e,r,i,o){if(r=r===void 0?e:r,this._linear){const _=this.normal(0),M=this.points[0],k=this.points[this.points.length-1];let P,A,E;i===void 0&&(i=e,o=r),P={x:M.x+_.x*e,y:M.y+_.y*e},E={x:k.x+_.x*i,y:k.y+_.y*i},A={x:(P.x+E.x)/2,y:(P.y+E.y)/2};const N=[P,A,E];P={x:M.x-_.x*r,y:M.y-_.y*r},E={x:k.x-_.x*o,y:k.y-_.y*o},A={x:(P.x+E.x)/2,y:(P.y+E.y)/2};const U=[E,A,P],$=b.makeline(U[2],N[0]),p=b.makeline(N[2],U[0]),z=[$,new q(N),p,new q(U)];return new Mt(z)}const u=this.reduce(),a=u.length,s=[];let l=[],c,f=0,h=this.length();const d=typeof i<"u"&&typeof o<"u";function g(_,M,k,P,A){return function(E){const N=P/k,U=(P+A)/k,$=M-_;return b.map(E,0,1,_+N*$,_+U*$)}}u.forEach(function(_){const M=_.length();d?(s.push(_.scale(g(e,i,h,f,M))),l.push(_.scale(g(-r,-o,h,f,M)))):(s.push(_.scale(e)),l.push(_.scale(-r))),f+=M}),l=l.map(function(_){return c=_.points,c[3]?_.points=[c[3],c[2],c[1],c[0]]:_.points=[c[2],c[1],c[0]],_}).reverse();const y=s[0].points[0],w=s[a-1].points[s[a-1].points.length-1],C=l[a-1].points[l[a-1].points.length-1],m=l[0].points[0],O=b.makeline(C,y),S=b.makeline(w,m),v=[O].concat(s).concat([S]).concat(l);return new Mt(v)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,u=[];for(let a=1,s=o.length;a<s/2;a++){const l=b.makeshape(o[a],o[s-a],i);l.startcap.virtual=a>1,l.endcap.virtual=a<s/2-1,u.push(l)}return u}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof q&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=qe(e.p1.x,e.p2.x),i=qe(e.p1.y,e.p2.y),o=Ge(e.p1.x,e.p2.x),u=Ge(e.p1.y,e.p2.y);return b.roots(this.points,e).filter(a=>{var s=this.get(a);return b.between(s.x,r,o)&&b.between(s.y,i,u)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let u=0,a,s,l;u<i;u++)s=r.slice(u,u+1),l=r.slice(u+2),a=this.curveintersects(s,l,e),o.push(...a);return o}curveintersects(e,r,i){const o=[];e.forEach(function(a){r.forEach(function(s){a.overlaps(s)&&o.push({left:a,right:s})})});let u=[];return o.forEach(function(a){const s=b.pairiteration(a.left,a.right,i);s.length>0&&(u=u.concat(s))}),u}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const u=(o-i)/4,a=this.get(i+u),s=this.get(o-u),l=b.dist(e,r),c=b.dist(e,a),f=b.dist(e,s);return Pt(c-l)+Pt(f-l)}_iterate(e,r){let i=0,o=1,u;do{u=0,o=1;let a=this.get(i),s,l,c,f,h=!1,d=!1,g,y=o,w=1;do if(d=h,f=c,y=(i+o)/2,s=this.get(y),l=this.get(o),c=b.getccenter(a,s,l),c.interval={start:i,end:o},h=this._error(c,a,i,o)<=e,g=d&&!h,g||(w=o),h){if(o>=1){if(c.interval.end=w=1,f=c,o>1){let m={x:c.x+c.r*Ki(c.e),y:c.y+c.r*Bi(c.e)};c.e+=b.angle({x:c.x,y:c.y},m,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!g&&u++<100);if(u>=100)break;f=f||c,r.push(f),i=w}while(o<1);return r}}function he(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function to(n){if(Array.isArray(n))return n}function eo(n){if(Array.isArray(n))return he(n)}function no(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ro(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,u,a,s=[],l=!0,c=!1;try{if(u=(r=r.call(n)).next,e!==0)for(;!(l=(i=u.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}function io(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ao(n,e){if(n==null)return{};var r,i,o=uo(n,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(i=0;i<u.length;i++)r=u[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function uo(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function so(n,e){return to(n)||ro(n,e)||dn(n,e)||io()}function lo(n){return eo(n)||no(n)||dn(n)||oo()}function co(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function fo(n){var e=co(n,"string");return typeof e=="symbol"?e:e+""}function dn(n,e){if(n){if(typeof n=="string")return he(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(n,e):void 0}}var ho=(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),u=n.reduce(function(s,l){var c=s,f=l;return o.forEach(function(h,d){var g=h.keyAccessor,y=h.isProp,w;if(y){var C=f,m=C[g],O=ao(C,[g].map(fo));w=m,f=O}else w=g(f,d);d+1<o.length?(c.hasOwnProperty(w)||(c[w]={}),c=c[w]):r?(c.hasOwnProperty(w)||(c[w]=[]),c[w].push(f)):c[w]=f}),s},{});r instanceof Function&&(function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===o.length?Object.keys(l).forEach(function(f){return l[f]=r(l[f])}):Object.values(l).forEach(function(f){return s(f,c+1)})})(u);var a=u;return i&&(a=[],(function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===o.length?a.push({keys:c,vals:l}):Object.entries(l).forEach(function(f){var h=so(f,2),d=h[0],g=h[1];return s(g,[].concat(lo(c),[d]))})})(u),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a});function go(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var po=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;go(po);function de(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function yo(n){if(Array.isArray(n))return n}function mo(n){if(Array.isArray(n))return de(n)}function Ve(n,e,r){if(gn())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var o=new(n.bind.apply(n,i));return o}function It(n,e,r){return(e=ko(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function gn(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gn=function(){return!!n})()}function vo(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xo(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,u,a,s=[],l=!0,c=!1;try{if(u=(r=r.call(n)).next,e!==0)for(;!(l=(i=u.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}function wo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function He(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function xt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?He(Object(r),!0).forEach(function(i){It(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Tt(n,e){return yo(n)||xo(n,e)||pn(n,e)||wo()}function Z(n){return mo(n)||vo(n)||pn(n)||bo()}function _o(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ko(n){var e=_o(n,"string");return typeof e=="symbol"?e:e+""}function ge(n){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(n)}function pn(n,e){if(n){if(typeof n=="string")return de(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(n,e):void 0}}var Co=Mn(Tn);function Xe(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=Co(e(i))})}function zo(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=o.nodeFilter,a=u===void 0?function(){return!0}:u,s=o.onLoopError,l=s===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:s,c={};r.forEach(function(g){return c[e(g)]={data:g,out:[],depth:-1,skip:!a(g)}}),i.forEach(function(g){var y=g.source,w=g.target,C=v(y),m=v(w);if(!c.hasOwnProperty(C))throw"Missing source node with id: ".concat(C);if(!c.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var O=c[C],S=c[m];O.out.push(S);function v(_){return ge(_)==="object"?e(_):_}});var f=[];d(Object.values(c));var h=Object.assign.apply(Object,[{}].concat(Z(Object.entries(c).filter(function(g){var y=Tt(g,2),w=y[1];return!w.skip}).map(function(g){var y=Tt(g,2),w=y[0],C=y[1];return It({},w,C.depth)}))));return h;function d(g){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=function(){var v=g[m];if(y.indexOf(v)!==-1){var _=[].concat(Z(y.slice(y.indexOf(v))),[v]).map(function(M){return e(M.data)});return f.some(function(M){return M.length===_.length&&M.every(function(k,P){return k===_[P]})})||(f.push(_),l(_)),1}w>v.depth&&(v.depth=w,d(v.out,[].concat(Z(y),[v]),w+(v.skip?0:1)))},m=0,O=g.length;m<O;m++)C()}}var Po=2,H=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},We=function(e,r){if(!r.isShadow){var i=L(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var u=Math.round(Math.abs(i(o)));u?o.__photons=Z(Array(u)).map(function(){return{}}):delete o.__photons})}},Yt=Ke({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,We(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:H},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:H},nodeColor:{default:"color",triggerUpdate:!1,onChange:H},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:H},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:H},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:H},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:H},linkColor:{default:"color",triggerUpdate:!1,onChange:H},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:H},linkWidth:{default:1,triggerUpdate:!1,onChange:H},linkCurvature:{default:0,triggerUpdate:!1,onChange:H},linkCanvasObject:{triggerUpdate:!1,onChange:H},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:H},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:H},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:H},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:H},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:We},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),o(),!e.isShadow&&u(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var s=L(e.nodeVisibility),l=L(e.nodeVal),c=L(e.nodeColor),f=L(e.nodeCanvasObjectMode),h=e.ctx,d=e.isShadow/e.globalScale,g=e.graphData.nodes.filter(s);h.save(),g.forEach(function(y){var w=f(y);if(e.nodeCanvasObject&&(w==="before"||w==="replace")&&(e.nodeCanvasObject(y,h,e.globalScale),w==="replace")){h.restore();return}var C=Math.sqrt(Math.max(0,l(y)||1))*e.nodeRelSize+d;h.beginPath(),h.arc(y.x,y.y,C,0,2*Math.PI,!1),h.fillStyle=c(y)||"rgba(31, 120, 180, 0.92)",h.fill(),e.nodeCanvasObject&&w==="after"&&e.nodeCanvasObject(y,e.ctx,e.globalScale)}),h.restore()}function o(){var s=L(e.linkVisibility),l=L(e.linkColor),c=L(e.linkWidth),f=L(e.linkLineDash),h=L(e.linkCurvature),d=L(e.linkCanvasObjectMode),g=e.ctx,y=e.isShadow*2,w=e.graphData.links.filter(s);w.forEach(M);var C=[],m=[],O=w;if(e.linkCanvasObject){var S=[],v=[];w.forEach(function(k){return({before:C,after:m,replace:S}[d(k)]||v).push(k)}),O=[].concat(Z(C),m,v),C=C.concat(S)}g.save(),C.forEach(function(k){return e.linkCanvasObject(k,g,e.globalScale)}),g.restore();var _=ho(O,[l,c,f]);g.save(),Object.entries(_).forEach(function(k){var P=Tt(k,2),A=P[0],E=P[1],N=!A||A==="undefined"?"rgba(0,0,0,0.15)":A;Object.entries(E).forEach(function(U){var $=Tt(U,2),p=$[0],z=$[1],x=(p||1)/e.globalScale+y;Object.entries(z).forEach(function(T){var R=Tt(T,2);R[0];var D=R[1],I=f(D[0]);g.beginPath(),D.forEach(function(j){var F=j.source,V=j.target;if(!(!F||!V||!F.hasOwnProperty("x")||!V.hasOwnProperty("x"))){g.moveTo(F.x,F.y);var G=j.__controlPoints;G?g[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,Z(G).concat([V.x,V.y])):g.lineTo(V.x,V.y)}}),g.strokeStyle=N,g.lineWidth=x,g.setLineDash(I||[]),g.stroke()})})}),g.restore(),g.save(),m.forEach(function(k){return e.linkCanvasObject(k,g,e.globalScale)}),g.restore();function M(k){var P=h(k);if(!P){k.__controlPoints=null;return}var A=k.source,E=k.target;if(!(!A||!E||!A.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var N=Math.sqrt(Math.pow(E.x-A.x,2)+Math.pow(E.y-A.y,2));if(N>0){var U=Math.atan2(E.y-A.y,E.x-A.x),$=N*P,p={x:(A.x+E.x)/2+$*Math.cos(U-Math.PI/2),y:(A.y+E.y)/2+$*Math.sin(U-Math.PI/2)};k.__controlPoints=[p.x,p.y]}else{var z=P*70;k.__controlPoints=[E.x,E.y-z,E.x+z,E.y]}}}}function u(){var s=1.6,l=.2,c=L(e.linkDirectionalArrowLength),f=L(e.linkDirectionalArrowRelPos),h=L(e.linkVisibility),d=L(e.linkDirectionalArrowColor||e.linkColor),g=L(e.nodeVal),y=e.ctx;y.save(),e.graphData.links.filter(h).forEach(function(w){var C=c(w);if(!(!C||C<0)){var m=w.source,O=w.target;if(!(!m||!O||!m.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,g(m)||1))*e.nodeRelSize,v=Math.sqrt(Math.max(0,g(O)||1))*e.nodeRelSize,_=Math.min(1,Math.max(0,f(w))),M=d(w)||"rgba(0,0,0,0.28)",k=C/s/2,P=w.__controlPoints&&Ve(q,[m.x,m.y].concat(Z(w.__controlPoints),[O.x,O.y])),A=P?function(x){return P.get(x)}:function(x){return{x:m.x+(O.x-m.x)*x||0,y:m.y+(O.y-m.y)*x||0}},E=P?P.length():Math.sqrt(Math.pow(O.x-m.x,2)+Math.pow(O.y-m.y,2)),N=S+C+(E-S-v-C)*_,U=A(N/E),$=A((N-C)/E),p=A((N-C*(1-l))/E),z=Math.atan2(U.y-$.y,U.x-$.x)-Math.PI/2;y.beginPath(),y.moveTo(U.x,U.y),y.lineTo($.x+k*Math.cos(z),$.y+k*Math.sin(z)),y.lineTo(p.x,p.y),y.lineTo($.x-k*Math.cos(z),$.y-k*Math.sin(z)),y.fillStyle=M,y.fill()}}}),y.restore()}function a(){var s=L(e.linkDirectionalParticles),l=L(e.linkDirectionalParticleSpeed),c=L(e.linkDirectionalParticleOffset),f=L(e.linkDirectionalParticleWidth),h=L(e.linkVisibility),d=L(e.linkDirectionalParticleColor||e.linkColor),g=e.ctx;g.save(),e.graphData.links.filter(h).forEach(function(y){var w=s(y);if(!(!y.hasOwnProperty("__photons")||!y.__photons.length)){var C=y.source,m=y.target;if(!(!C||!m||!C.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var O=l(y),S=Math.abs(c(y)),v=y.__photons||[],_=Math.max(0,f(y)/2)/Math.sqrt(e.globalScale),M=d(y)||"rgba(0,0,0,0.28)";g.fillStyle=M;var k=y.__controlPoints?Ve(q,[C.x,C.y].concat(Z(y.__controlPoints),[m.x,m.y])):null,P=0,A=!1;v.forEach(function(E){var N=!!E.__singleHop;if(E.hasOwnProperty("__progressRatio")||(E.__progressRatio=N?0:(P+S)/w),!N&&P++,E.__progressRatio+=O,E.__progressRatio>=1)if(!N)E.__progressRatio=E.__progressRatio%1;else{A=!0;return}var U=E.__progressRatio,$=k?k.get(U):{x:C.x+(m.x-C.x)*U||0,y:C.y+(m.y-C.y)*U||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject($.x,$.y,y,g,e.globalScale):(g.beginPath(),g.arc($.x,$.y,_,0,2*Math.PI,!1),g.fill())}),A&&(y.__photons=y.__photons.filter(function(E){return!E.__singleHop||E.__progressRatio<=1}))}}}),g.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:On().force("link",Sn()).force("charge",Rn()).force("center",Dn()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&Xe(e.graphData.nodes,L(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&Xe(e.graphData.links,L(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(d){d.source=d[e.linkSource],d.target=d[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(d){return d[e.nodeId]}).links(e.graphData.links);var o=e.dagMode&&zo(e.graphData,function(d){return d[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),u=Math.max.apply(Math,Z(Object.values(o||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(u||1)*Po*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var s=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(d){return delete d[s]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var l=["rl","bu"].includes(e.dagMode),c=function(g){return(o[g[e.nodeId]]-u/2)*a*(l?-1:1)},f=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(d){return d[f]=c(d)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?An(function(d){var g=o[d[e.nodeId]]||-1;return(e.dagMode==="radialin"?u-g:g)*a}).strength(function(d){return e.dagNodeFilter(d)?1:0}):null);for(var h=0;h<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);h++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function yn(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(u){return{default:i[u](),onChange:function(s,l){r.forEach(function(c){return l[c][u](s)})},triggerUpdate:!1}},linkMethod:function(u){return function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var f=[];return r.forEach(function(h){var d=a[h],g=d[u].apply(d,l);g!==d&&f.push(g)}),f.length?f[0]:this}}}}var Eo=800,Mo=4,To=5,mn=yn("forceGraph",Yt),Ao=yn(["forceGraph","shadowGraph"],Yt),Oo=Object.assign.apply(Object,Z(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return It({},n,mn.linkProp(n))})).concat(Z(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return It({},n,Ao.linkProp(n))})))),So=Object.assign.apply(Object,Z(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return It({},n,mn.linkMethod(n))})));function ie(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(u){u.style.width="".concat(n.width,"px"),u.style.height="".concat(n.height,"px"),u.width=n.width*i,u.height=n.height*i,!e&&!r&&u.getContext("2d").scale(i,i)});var o=et(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function vn(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function Ye(n,e,r){n.save(),vn(n),n.clearRect(0,0,e,r),n.restore()}var Do=Ke({props:xt({width:{default:window.innerWidth,onChange:function(e,r){return ie(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return ie(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(o){return(o||[]).every(function(u){return!u.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(o){var u=o.type,a=o.objs;a.filter(function(s){if(!s.hasOwnProperty("__indexColor"))return!0;var l=r.colorTracker.lookup(s.__indexColor);return!l||!l.hasOwnProperty("d")||l.d!==s}).forEach(function(s){s.__indexColor=r.colorTracker.register({type:u,d:s})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,o,u){return e(i,i.__indexColor,o,u)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,o,u){return e(i,i.__indexColor,o,u)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Oo),aliases:{stopAnimation:"pauseAnimation"},methods:xt({graph2ScreenCoords:function(e,r,i){var o=et(e.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(e,r,i){var o=et(e.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(e,r,i,o){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var u=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?e.tweenGroup.add(new _e(a()).to(u,o).easing(ke.Quadratic.Out).onUpdate(s).start()):s(u),this}return a();function a(){var l=et(e.canvas);return{x:(e.width/2-l.x)/l.k,y:(e.height/2-l.y)/l.k}}function s(l){var c=l.x,f=l.y;e.zoom.translateTo(e.zoom.__baseElem,c===void 0?a().x:c,f===void 0?a().y:f),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new _e({k:o()}).to({k:r},i).easing(ke.Quadratic.Out).onUpdate(function(a){var s=a.k;return u(s)}).start()):u(r),this;return o();function o(){return et(e.canvas).k}function u(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,u=new Array(o>3?o-3:0),a=3;a<o;a++)u[a-3]=arguments[a];var s=this.getGraphBbox.apply(this,u);if(s){var l={x:(s.x[0]+s.x[1])/2,y:(s.y[0]+s.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(s.x[1]-s.x[0]),(e.height-i*2)/(s.y[1]-s.y[0])));this.centerAt(l.x,l.y,r),this.zoom(c,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=L(e.nodeVal),o=function(s){return Math.sqrt(Math.max(0,i(s)||1))*e.nodeRelSize},u=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:o(a)}});return u.length?{x:[we(u,function(a){return a.x-a.r}),be(u,function(a){return a.x+a.r})],y:[we(u,function(a){return a.y-a.r}),be(u,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},So),stateInit:function(){return{lastSetZoom:1,zoom:Ti(),forceGraph:new Yt,shadowGraph:new Yt().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Xi,tweenGroup:new Nn}},init:function(e,r){var i=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var u=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),s={x:-1e12,y:-1e12},l=function(){var h=null,d=window.devicePixelRatio,g=s.x>0&&s.y>0?a.getImageData(s.x*d,s.y*d,1,1):null;return g&&(h=r.colorTracker.lookup(g.data)),h};Q(r.canvas).call(pr().subject(function(){if(!r.enableNodeDrag)return null;var f=l();return f&&f.type==="Node"?f.d:null}).on("start",function(f){var h=f.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},f.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(f){var h=f.subject,d=h.__initialDragPos,g=f,y=et(r.canvas).k,w={x:d.x+(g.x-d.x)/y-h.x,y:d.y+(g.y-d.y)/y-h.y};["x","y"].forEach(function(C){return h["f".concat(C)]=h[C]=d[C]+(g[C]-d[C])/y}),!(!h.__dragged&&To>=Math.sqrt(Un(["x","y"].map(function(C){return Math.pow(f[C]-d[C],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,w))}).on("end",function(f){var h=f.subject,d=h.__initialDragPos,g={x:h.x-d.x,y:h.y-d.y};d.fx===void 0&&(h.fx=void 0),d.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,g))})),r.zoom(r.zoom.__baseElem=Q(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(f){return!f.button&&r.enableZoomPanInteraction&&(f.type!=="wheel"||L(r.enableZoomInteraction)(f))&&(f.type==="wheel"||L(r.enablePanInteraction)(f))}).on("zoom",function(f){var h=f.transform;[u,a].forEach(function(d){vn(d),d.translate(h.x,h.y),d.scale(h.k,h.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(xt(xt({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(f){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(xt(xt({},f.transform),i.centerAt()))}),ie(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){et(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=Mo/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new In(o),["pointermove","pointerdown"].forEach(function(f){return o.addEventListener(f,function(h){f==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType==="mouse"||h.movementX===void 0||[h.movementX,h.movementY].some(function(y){return Math.abs(y)>1}))&&(r.isPointerDragging=!0);var d=g(o);s.x=h.pageX-d.left,s.y=h.pageY-d.top;function g(y){var w=y.getBoundingClientRect(),C=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+m,left:w.left+C}}},{passive:!0})}),o.addEventListener("pointerup",function(f){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[f,r.pointerDownEvent];requestAnimationFrame(function(){if(f.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(f.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})}},{passive:!0}),o.addEventListener("contextmenu",function(f){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(f.preventDefault(),!1)}),r.forceGraph(u),r.shadowGraph(a);var c=Oi(function(){Ye(a,r.width,r.height),r.shadowGraph.linkWidth(function(h){return L(r.linkWidth)(h)+r.linkHoverPrecision});var f=et(r.canvas);r.shadowGraph.globalScale(f.k).tickFrame()},Eo);r.flushShadowCanvas=c.flush,(this._animationCycle=function f(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:l();if(d!==r.hoverObj){var g=r.hoverObj,y=g?g.type:null,w=d?d.type:null;if(y&&y!==w){var C=r["on".concat(y,"Hover")];C&&C(null,g.d)}if(w){var m=r["on".concat(w,"Hover")];m&&m(d.d,y===w?g.d:null)}r.tooltip.content(d&&L(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||null),r.canvas.classList[(d&&r["on".concat(w,"Click")]||!d&&r.onBackgroundClick)&&L(r.showPointerCursor)(d?.d)?"add":"remove"]("clickable"),r.hoverObj=d}h&&c()}if(h){Ye(u,r.width,r.height);var O=et(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(u,O),r.forceGraph.globalScale(O).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(u,O)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(f)})()},update:function(e){}});export{Do as default};
